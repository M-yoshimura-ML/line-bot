{% extends "base.html" %}
{% block title %}Web Speech API{% endblock %}
{% block content %}
    <h1>Web Speech API</h1>
    <p>You can generate your voice text.</p>
    <script>
      window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
      var recognition = new webkitSpeechRecognition();
      recognition.lang = 'ja';

      recognition.onresult = function(event){
          var results = event.results;
          for (var i = event.resultIndex; i<results.length; i++) {
              document.getElementById('result_text').innerHTML = results[i][0].transcript;
          }
      }
    </script>
    <textarea id="result_text" cols="100" rows="10"></textarea>
    <br>
    <input type="button" onClick="recognition.start();" value="音認開始">
{% endblock %}
