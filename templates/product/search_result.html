{% extends "base.html" %}
{% block title %}Product Search{% endblock %}
{% block content %}
    <h1>Product Search</h1>
    <p>You can search product from Rakuten Market.</p>
    <form action="/search" method="post">
        <input type="text" name="keyword" placeholder="商品名を入力">
        <input type="submit" value="検索">
    </form>


    {% if results %}
        <div class="mt-3 mb-3">
            <p>You searched with: <em>{{ keyword }}</em> </p>
        </div>
        {% for result in results %}
            <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
                <h2>Product Name: {{ result['name'] }}</h2>
                <small>Price: {{ result['price'] }}</small><br>
                <small>URL: {{ result.url }}</small><br>
            </div>
        {% endfor %}
    {% else %}
        {% if  keyword != '' %}
            <p>sorry, your search condition: <em>{{ keyword }}</em> was not found.</p>
        {% endif %}
    {% endif %}
{% endblock %}
